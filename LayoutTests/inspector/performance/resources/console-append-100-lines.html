<html>
<head>
<script src="../../../http/tests/inspector/inspector-test.js"></script>
<script src="performance-test.js"></script>
<script>

function makeConsoleEvents(count)
{
    for (var i = 0; i < count; ++i)
        console.log("Console log: " + i);
}

function test()
{
    WebInspector.showPanel("console");

    function test(timer)
    {
        WebInspector.console.clearMessages();
        InspectorTest.addSniffer(WebInspector.consoleView.promptElement, "scrollIntoView", finish);
        cookie = timer.start("console-append-100-lines");

        InspectorTest.evaluateInPage("makeConsoleEvents(100)");

        function finish()
        {
            timer.finish(cookie);
            timer.done();
        }
    }

    InspectorTest.runPerformanceTest(test, 10000);
}

if (!window.layoutTestController) {
    setTimeout(function() {
        makeConsoleEvents(100);
    }, 3000);
}

</script>
</head>

<body onload="runTest()">
</body>
</html>
