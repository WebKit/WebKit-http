<!DOCTYPE html>
<html style="font-family: ahem; font-size: 50px; -webkit-font-smoothing: none;">
<!-- WebKit bug 86387 - Move run-in handling to addChild, instead of in layout. -->
<!-- You should only see a green 'A' box. -->
<style>
.runin { display: run-in; color: green; }
</style>
</head>
<body>
<div>
  <div class="runin">A</div>
  <div id="test">B</div>
</div>
</body>
<script>
document.body.offsetTop;
test = document.getElementById('test');
test.appendChild(document.createElement('div')); // This should cause 'A' to stop being a run-in and detach from 'B'.
document.body.offsetTop;
test.style.display = 'none'; // This helps to visualize that no run-in is part of 'B'.
</script>
</html>
