<!DOCTYPE html>
<html style="font-family: ahem; font-size: 50px; -webkit-font-smoothing: none;">
<!-- WebKit bug 86387 - Move run-in handling to addChild, instead of in layout. -->
<!-- You should see a green 'A' box, followed by orange 'B' box in the same line. -->
<style>
.runin { display: run-in; }
</style>
</head>
<body>
<div>
  <div class="runin" style="color: green">A</div>
  <div id="test2" class="runin" style="color: orange">B</div>
  <div id="test">C</div>
</div>
</body>
<script>
document.body.offsetTop;
test = document.getElementById('test');
test.appendChild(document.createElement('div')); // This should cause 'B' to stop being a run-in, detach from 'C' and let 'A' run-in into 'B'.
document.body.offsetTop;
test.style.display = 'none'; // This helps to visualize that no run-in is part of 'C'.
test2.style.display = 'block'; // This should cause 'A' to run-in into 'B'.
</script>
</html>
