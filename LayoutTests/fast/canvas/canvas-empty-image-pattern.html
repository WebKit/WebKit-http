<!DOCTYPE HTML>
<title>Canvas test: filling a pattern with an empty image should not crash.</title>
<canvas id="canvas" class="output" width="100" height="100"><p class="fallback">FAIL (fallback content)</p></canvas>
<script>
if (window.testRunner)
    testRunner.dumpAsText(true);

var canvas = document.getElementById("canvas").getContext("2d");
canvas.fillStyle = canvas.createPattern(new Image, "repeat")
canvas.fillRect(0,0,1,1)
</script>
