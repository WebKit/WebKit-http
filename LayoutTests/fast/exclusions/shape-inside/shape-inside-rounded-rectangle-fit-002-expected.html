<!DOCTYPE html>
<html>
<head>
<script src="../resources/subpixel-utils.js"></script>
<script>
    if (window.internals)
        window.internals.settings.setCSSExclusionsEnabled(true);
</script>
<!-- 
In this test the shape-inside shape is a rounded rectangle configured as a circle with radius of 100px.
The shape-inside element contains a single square Ahem font character that just fits wthin the circle. 
That means that the character's size is sqrt(2)*100px, which is 141.41356px.

The x and y coordinates of the points at which the square intersects the circle are half of the 
difference between circle's diameter and the size of the square: (200px - sqrt(2)*100px) / 2 = 29.2893219px.
-->
<style>
#shape-container {
    position: relative;
    display: inline-block;
    width: 200px;
    height: 200px;
    margin: 10px;
}

#shape-background {
    position: absolute;
    top: 0px;
    left: 0px;
    width: 200px;
    height: 200px;
    border-radius:  100px / 100px;
    background-color: rgb(200,200,200);
}

#shape-inside {
    position: absolute;
    top: 29.2893219px;
    left: 29.2893219px;
    width: 200px;
    height: 200px;
    font: 141.421356px/1 Ahem, sans-serif;
    color: green;
}
</style>
</head>
<body onload="init()">
<script>
    function init() {
        if (!SubPixelLayout.isSubPixelLayoutEnabled())
            document.getElementById("shape-inside").style.top = "30px";
    }
</script>
<p>The green rectangle should appear within the grey circle.</p>
<div id="shape-container">
  <div id="shape-background"></div>
  <div id="shape-inside">X</div>
</div>
</body>
</html>
