<script type="text/javascript">
    function onBodyLoad() {
        if (window.testRunner) {
            var selection = window.getSelection();

            // Test selection on the overflow below the last region.
            var region = document.getElementById("region2");
            var startPositionX = region.offsetLeft + 20;
            var startPositionY = region.offsetTop + 20;
            var endPositionX = startPositionX + 20;
            var endPositionY = startPositionY + 60;

            eventSender.mouseMoveTo(startPositionX, startPositionY);
            eventSender.mouseDown();
            eventSender.mouseMoveTo(endPositionX, endPositionY);
            eventSender.mouseUp();
        }
    }
</script>

<style type="text/css">
    .region {
        -webkit-flow-from: flow;
        border: thin solid blue;
        margin: 5px;
        position: relative;
        left: 1px;
    }

    #region1
    {
        width: 100px;
        height: 110px;
    }

    #region2
    {
        height: 200px;
        position: relative;
        left: 120px;
        top: -127px;
        width: 100px;
    }

    .content {
        -webkit-flow-into: flow;
    }

    #one {
        background-color: green;
        width: 100px;
        height: 100px;
    }
</style>

<body onload="onBodyLoad()">
    <a href="https://bugs.webkit.org/show_bug.cgi?id=130715">Bug 130715 - Test that overflow content for the first and last regions in the chain is correctly displayed in different situations.</a>
    <div>The test passes if selecting in the second <span style="color:blue">region</span> properly selects the BBBB texts and has no effect on the text in the first <span style="color:blue">region</span>.</div>
    <br/>

    <div id="region1" class="region"></div>
    <div id="region2" class="region"></div>

    <div class="content">
        <div id="one">AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/>AAAA<br/></div>
        <div id="two">BBBB<br/>BBBB<br/>BBBB<br/>BBBB<br/>BBBB<br/>BBBB<br/>BBBB<br/>BBBB<br/>BBBB<br/>BBBB</div>
    </div>
</body>
