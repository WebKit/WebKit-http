<!doctype html>
<html>
<head>
<script>
if (window.layoutTestController) {
    layoutTestController.enableAutoResizeMode(10, 10, 1000, 1000);
    layoutTestController.dumpAsText();
    layoutTestController.dumpChildFramesAsText();
    layoutTestController.waitUntilDone();
}

function run()
{
    var frameWindow = document.getElementById("frame").contentWindow;
    frameWindow.postMessage("shouldBe('document.body.scrollWidth', 400)", "*");
    frameWindow.postMessage("shouldBe('document.body.scrollHeight', 200)", "*");
    frameWindow.postMessage("log('DONE'); if (window.layoutTestController) layoutTestController.notifyDone();", "*");
}
</script>
</head>
<body onload="run()" style="width:400px; height:200px; background-color:yellow;">
<iframe id="frame" style="width:100%; height:100%;" src="resources/iframe.html">
</iframe>
</body>
</html>
