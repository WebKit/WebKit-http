<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<script src="../../js/resources/js-test-pre.js"></script>
</head>
<body onload="debug('load');finishJSTest();">
Checks that async scripts fire onbeforeload immediately and that it is cancellable.
<div id="console"></div>
<script>var jsTestIsAsync = true;</script>
<script src="resources/shouldnotexecute.js" onbeforeload="debug('cancelled onbeforeload async'); return false;" async></script>
<script src="resources/async.js" onbeforeload="debug('onbeforeload async'); return true;" async></script>
<script src="data:text/javascript," onbeforeload="debug('onbeforeload external'); return true;"></script>
<script src="../../js/resources/js-test-post.js"></script>
</body>
</html>
