<!DOCTYPE html>
<title>Properties of a navigated window shouldn't crash</title>

<p>Accessing properties of a navigated window shouldn't crash</p>

<script>
if (window.layoutTestController) {
    layoutTestController.waitUntilDone();
    layoutTestController.dumpAsText();
}


var func;
function testPhase1() {
    var subframe = document.getElementById("subframe");
    func = subframe.contentWindow.testFunction;
    subframe.src = "resources/navigated-window-prop-subframe2.html";
}

function testPhase2() {
    func();
    if (window.layoutTestController)
        layoutTestController.notifyDone();
}
</script>
<iframe id="subframe" src="resources/navigated-window-prop-subframe1.html"></iframe>
