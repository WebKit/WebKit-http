<!DOCTYPE html>
<html>
<body>
<form>
  <input type="file" name="file" multiple id="file">
</form>
<p>The file upload control above should have text '2 files,' not a filename.</p>

<script>
function startTest()
{
    var input = document.getElementById('file');

    // Drop 2 files to the control.
    eventSender.beginDragWithFiles(['input-file-re-render.html', 'script-tests/TEMPLATE.html']);
    eventSender.mouseMoveTo(10, 10);
    eventSender.mouseUp();

    // Delete the renderer.
    input.style.display = 'none';
    input.offsetWidth; // Force to do layout

    // Attach a renderer again.
    input.style.display = 'inline-block';

    layoutTestController.notifyDone();
}

if (window.eventSender) {
    window.onload = startTest;
    layoutTestController.waitUntilDone();
}
</script>
</body>
</html>
