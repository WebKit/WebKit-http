
FAIL encoding one string of UTF-8 should give one complete chunk promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL a character split between chunks should be correctly encoded promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL a character following one split between chunks should be correctly encoded promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL two consecutive astral characters each split down the middle should be correctly reassembled promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL two consecutive astral characters each split down the middle with an invalid surrogate in the middle should be correctly encoded promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL a stream ending in a leading surrogate should emit a replacement character as a final chunk promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL an unmatched surrogate at the end of a chunk followed by an astral character in the next chunk should be replaced with the replacement character at the start of the next output chunk promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL an unmatched surrogate at the end of a chunk followed by an ascii character in the next chunk should be replaced with the replacement character at the start of the next output chunk promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL an unmatched surrogate at the end of a chunk followed by a plane 1 character split into two chunks should result in the encoded plane 1 character appearing in the last output chunk promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL two leading chunks should result in two replacement characters promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL a non-terminal unpaired leading surrogate should immediately be replaced promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL a terminal unpaired trailing surrogate should immediately be replaced promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL a leading surrogate chunk should be carried past empty chunks promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL a leading surrogate chunk should error when it is clear it didn't form a pair promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL an empty string should result in no output chunk promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL a leading empty chunk should be ignored promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL a trailing empty chunk should be ignored promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL a plain ASCII chunk should be converted promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"
FAIL characters in the ISO-8859-1 range should be encoded correctly promise_test: Unhandled rejection with value: object "ReferenceError: Can't find variable: TextEncoderStream"

