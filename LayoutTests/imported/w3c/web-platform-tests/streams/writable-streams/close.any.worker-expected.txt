
FAIL fulfillment value of writer.close() call must be undefined even if the underlying sink returns a non-undefined value Can't find variable: WritableStream
FAIL when sink calls error asynchronously while sink close is in-flight, the stream should not become errored Can't find variable: WritableStream
FAIL when sink calls error synchronously while closing, the stream should not become errored Can't find variable: WritableStream
FAIL when the sink throws during close, and the close is requested while a write is still in-flight, the stream should become errored during the close Can't find variable: WritableStream
FAIL releaseLock on a stream with a pending write in which the stream has been errored Can't find variable: WritableStream
FAIL releaseLock on a stream with a pending close in which controller.error() was called Can't find variable: WritableStream
FAIL when close is called on a WritableStream in writable state, ready should return a fulfilled promise Can't find variable: WritableStream
FAIL when close is called on a WritableStream in waiting state, ready promise should be fulfilled Can't find variable: WritableStream
FAIL when close is called on a WritableStream in waiting state, ready should be fulfilled immediately even if close takes a long time Can't find variable: WritableStream
FAIL returning a thenable from close() should work Can't find variable: WritableStream
FAIL releaseLock() should not change the result of sync close() Can't find variable: WritableStream
FAIL releaseLock() should not change the result of async close() Can't find variable: WritableStream
FAIL close() should set state to CLOSED even if writer has detached Can't find variable: WritableStream
FAIL the promise returned by async abort during close should resolve Can't find variable: WritableStream
FAIL promises must fulfill/reject in the expected order on closure Can't find variable: WritableStream
FAIL promises must fulfill/reject in the expected order on aborted closure Can't find variable: WritableStream
FAIL promises must fulfill/reject in the expected order on aborted and errored closure Can't find variable: WritableStream
FAIL close() should not reject until no sink methods are in flight Can't find variable: WritableStream
FAIL ready promise should be initialised as fulfilled for a writer on a closed stream Can't find variable: WritableStream
FAIL close() on a writable stream should work Can't find variable: WritableStream
FAIL close() on a locked stream should reject Can't find variable: WritableStream
FAIL close() on an erroring stream should reject Can't find variable: WritableStream
FAIL close() on an errored stream should reject Can't find variable: WritableStream
FAIL close() on an closed stream should reject Can't find variable: WritableStream
FAIL close() on a stream with a pending close should reject Can't find variable: WritableStream

