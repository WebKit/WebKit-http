<!DOCTYPE html>
<body>
<script src="../../../../../fast/js/resources/js-test-pre.js"></script>
<script src="../../../../../fast/forms/resources/picker-common.js"></script>
<input type="date" id="date1" onchange="changeType(this)" value="2000-01-01">
<script>
description('Check if we have no crash in a case that the input type is changed by selecting a day in the calendar picker.');

openPicker(document.getElementById('date1'), selectToday);

function selectToday() {
    eventSender.keyDown('t');
    eventSender.keyDown('\n');
}

function changeType(input) {
    input.type = 'text';
    testPassed('unless crash');
    waitUntilClosing(finishJSTest);
}
</script>
<script src="../../../../../fast/js/resources/js-test-post.js"></script>
</body>
