<html>
<head>
<meta charset='utf-8'>
<style>
.pass {
    font-weight: bold;
    color: green;
}
.fail {
    font-weight: bold;
    color: red;
}
</style>

<script>
if (window.testRunner)
    testRunner.dumpAsText();

function SputnikError(message)
{
    this.message = message;
}

SputnikError.prototype.toString = function ()
{
    return 'SputnikError: ' + this.message;
};

var sputnikException;

function testPrint(msg)
{
    var span = document.createElement("span");
    document.getElementById("console").appendChild(span); // insert it first so XHTML knows the namespace 
    span.innerHTML = msg + '<br />';
}

function escapeHTML(text)
{
    return text.toString().replace(/&/g, "&amp;").replace(/</g, "&lt;");
}

function printTestPassed(msg)
{
    testPrint('<span><span class="pass">PASS</span> ' + escapeHTML(msg) + '</span>');
}

function printTestFailed(msg)
{
    testPrint('<span><span class="fail">FAIL</span> ' + escapeHTML(msg) + '</span>');
}

function testFailed(msg)
{
    throw new SputnikError(msg);
}

var successfullyParsed = false;
</script>

</head>
<body>
<p>S15.1.2.2_A6.1_T6</p>
<div id='console'></div>
<script>
try {

/**
 * @name: S15.1.2.2_A6.1_T6;
 * @section: 15.1.2.2;
 * @assertion: If S contains any character that is not a radix-R digit, 
 * then let Z be the substring of S consisting of all characters before 
 * the first such character; otherwise, let Z be S;
 * @description: Complex test. Radix-R notation in [0..9]; 
*/

//CHECK#2
if (parseInt("0123456789", 2) !== 1) {
  testFailed('#2: parseInt("0123456789", 2) === 1. Actual: ' + (parseInt("0123456789", 2)));
}  

//CHECK#3
if (parseInt("01234567890", 3) !== 5) {
  testFailed('#3: parseInt("01234567890", 3) === 5. Actual: ' + (parseInt("01234567890", 3)));
} 

//CHECK#4
if (parseInt("01234567890", 4) !== 27) {
  testFailed('#4: parseInt("01234567890", 4) === 27. Actual: ' + (parseInt("01234567890", 4)));
} 

//CHECK#5
if (parseInt("01234567890", 5) !== 194) {
  testFailed('#5: parseInt("01234567890", 5) === 194. Actual: ' + (parseInt("01234567890", 5)));
}  

//CHECK#6
if (parseInt("01234567890", 6) !== 1865) {
  testFailed('#6: parseInt("01234567890", 6) === 1865. Actual: ' + (parseInt("01234567890", 6)));
}  

//CHECK#7
if (parseInt("01234567890", 7) !== 22875) {
  testFailed('#7: parseInt("01234567890", 7) === 22875. Actual: ' + (parseInt("01234567890", 7)));
}  

//CHECK#8
if (parseInt("01234567890", 8) !== 342391) {
  testFailed('#8: parseInt("01234567890", 8) === 342391. Actual: ' + (parseInt("01234567890", 8)));
}  

//CHECK#9
if (parseInt("01234567890", 9) !== 6053444) {
  testFailed('#9: parseInt("01234567890", 9) === 6053444. Actual: ' + (parseInt("01234567890", 9)));
}  

//CHECK#10
if (parseInt("01234567890", 10) !== Number(1234567890)) {
  testFailed('#10: parseInt("01234567890", 10) === Number(1234567890). Actual: ' + (parseInt("01234567890", 10)));
}  

} catch (ex) {
    sputnikException = ex;
}

var successfullyParsed = true;
</script>

<script>
if (!successfullyParsed)
    printTestFailed('successfullyParsed is not set');
else if (sputnikException)
    printTestFailed(sputnikException);
else
    printTestPassed("");
testPrint('<br /><span class="pass">TEST COMPLETE</span>');
</script>
</body>
</html>
