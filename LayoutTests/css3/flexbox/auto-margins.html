<!DOCTYPE html>
<html>
<head>
<style>

#circles, #circles div {
    display: -webkit-flex;
    width: -webkit-calc(100% - 4em);
    height: -webkit-calc(100% - 4em);
    border: 1em solid blue;
    border-radius:50%;
    margin: auto;
    -webkit-flex: none;
}

#circles { width:9em; height:9em; }

</style>
</head>
<body>
<p>These tests are from the spec: <a href="http://dev.w3.org/csswg/css3-flexbox/#auto-margins">http://dev.w3.org/csswg/css3-flexbox/#auto-margins</a>.</p>

<p>The word OK should be centered vertically and horizontally.</p>
<div style="display: -webkit-flex; width: 4em; height: 4em; background: silver">
  <p id="ok" style="margin: auto; -webkit-flex: none;">OK</p>
</div>

<div style="display: -webkit-flex; width: 4em; height: 4em; margin-top: 10px; background: silver; -webkit-writing-mode: vertical-rl">
  <p id="okVertical" style="margin: auto; -webkit-flex: none;">OK</p>
</div>

<p>You should see 3 blue concentric circles.</p>
<div id="circles"><div><div></div></div></div>

<p id="log">The computed style of each margin should not be 0.</p>
<script>
var okStyle = getComputedStyle(document.getElementById('ok'));
document.getElementById("log").innerHTML += "<br>OK: " + 
    ((parseInt(okStyle.marginTop) && parseInt(okStyle.marginRight) && parseInt(okStyle.marginBottom) && parseInt(okStyle.marginLeft)) ? "PASS" : "FAIL");

var okVerticalStyle = getComputedStyle(document.getElementById('okVertical'));
document.getElementById("log").innerHTML += "<br>Vertical OK: " + 
    ((parseInt(okVerticalStyle.marginTop) && parseInt(okVerticalStyle.marginRight) && parseInt(okVerticalStyle.marginBottom) && parseInt(okVerticalStyle.marginLeft)) ? "PASS" : "FAIL");
</script>
</body>
</html>
