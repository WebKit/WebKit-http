<!DOCTYPE html>
<html>
<head>
    <title>CSS Test: Shape from image - url(), alpha channel, opacity > 0</title>
    <link rel="author" title="Rebecca Hauck" href="mailto:rhauck@adobe.com"/>
    <link rel="help" href="http://www.w3.org/TR/css-shapes-1/#shapes-from-image"/>
    <link rel="help" href="http://www.w3.org/TR/css-shapes-1/#shape-outside-property"/>
    <link rel="match" href="reference/shape-outside-011-ref.html"/>
    <meta name="flags" content="ahem"/>
    <meta name="assert" content="This test verifies that the content flows around the 
                                 shape defined in the images alpha channel that has some
                                 opacity."/>
    <!--  This test is derived from Example 7 in this version of the spec:
         http://www.w3.org/TR/2014/WD-css-shapes-1-20140211/  -->
    <style type="text/css">
        .container {
          position: absolute;
          top: 70px;
          width: 400px;
          font-family: Ahem;
          font-size: 20px;
          line-height: 2em;
        }
        #test {
            color: green;
        }
        #image {
            float: left;
            -webkit-shape-outside: url("support/circle-shadow.png");
        }
        #failure {
            width: 300px;
            color: red;
            z-index: -1;
        }
        #line-1, #line-5 { margin-left: 218px; }
        #line-2, #line-4 { margin-left: 236px; }
        #line-3 { margin-left: 238px; }
        #line-6 { margin-left: 160px; }
    </style>
</head>
<body>
    <p>
        The test passes if the green horizontal bars are to the right of the circle,
        and no bars intersect the circle's shadow. There should be no red.
    </p>    
    <div id="test" class="container">
        <img id="image" src="support/circle-shadow.png"/>
        XXXXXX XXXXXX XXXXXX XXXXXX XXXXXX XXXXXX
    </div>
    <div id="failure" class="container">
        <span id="line-1">XXXXXX</span>
        <span id="line-2">XXXXXX</span>
        <span id="line-3">XXXXXX</span>
        <span id="line-4">XXXXXX</span>
        <span id="line-5">XXXXXX</span>
        <div id="line-6">XXXXXX</div>
    </div>
</body>
</html>