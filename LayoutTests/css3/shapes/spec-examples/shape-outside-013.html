<!DOCTYPE html>
<html>
<head>
    <title>CSS Test: Shape from image - shape-margin</title>
    <link rel="author" title="Rebecca Hauck" href="mailto:rhauck@adobe.com"/>
    <link rel="help" href="http://www.w3.org/TR/css-shapes-1/#shapes-from-image"/>
    <link rel="help" href="http://www.w3.org/TR/css-shapes-1/#shape-outside-property"/>
    <link rel="match" href="reference/shape-outside-013-ref.html"/>
    <meta name="flags" content="ahem"/>
    <meta name="assert" content="This test verifies that the content flows around the 
                                 shape defined in the images alpha channel and adjusted by 
                                 the shape-margin."/>
    <!--  This test is derived from Example 7 in this version of the spec:
         http://www.w3.org/TR/2014/WD-css-shapes-1-20140211/  -->
    <style type="text/css">
        .container {
          position: absolute;
          top: 85px;
          left: 25px;
          font-family: Ahem;
          font-size: 20px;
          line-height: 2em;
        }
        #test {
            width: 400px;
            color: green;
        }
        #test-image {
            float: left;
            -webkit-shape-outside: url("support/circle-no-shadow.png");
            -webkit-shape-margin: 15px;
        }
        #margin-circle {
            position: absolute;
            top: 70px;
            left: 10px;
            width: 230px;
            height: 230px;
            background-color: blue;
            border-radius: 150px;
        }
        #failure {
            width: 300px;
            color: red;
            z-index: -1;
        }
        #line-1, #line-5 { margin-left: 200px; }
        #line-2, #line-4 { margin-left: 214px; }
        #line-3 { margin-left: 216px; }
        #line-6 { margin-left: 158px; }
    </style>
</head>
<body>
    <p>
        The test passes if the short green horizontal bars are the right of the circle,
        the long green bar is beneath the circle, and no bars intersect the circle. There
        should be no red.
    </p>
    <div id="margin-circle"></div>
    <div id="test" class="container">
        <img id="test-image" src="support/circle-no-shadow.png"/>
        XXXXXX XXXXXX XXXXXX XXXXXX XXXXXX XXXXXX XXXXXXXXXXXXX
    </div>
    <div id="failure" class="container">
        <span id="line-1">XXXXXX</span>
        <span id="line-2">XXXXXX</span>
        <span id="line-3">XXXXXX</span>
        <span id="line-4">XXXXXX</span>
        <span id="line-5">XXXXXX</span>
        <span id="line-6">XXXXXX</span>
        XXXXXXXXXXXXX
    </div>
</body>
</html>