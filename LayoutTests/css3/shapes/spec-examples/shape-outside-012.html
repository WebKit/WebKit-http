<!DOCTYPE html>
<html>
<head>
    <title>CSS Test: Shape from image - shape-image-threshold - 0.9</title>
    <link rel="author" title="Rebecca Hauck" href="mailto:rhauck@adobe.com"/>
    <link rel="help" href="http://www.w3.org/TR/css-shapes-1/#shapes-from-image"/>
    <link rel="help" href="http://www.w3.org/TR/css-shapes-1/#shape-outside-property"/>
    <link rel="help" href="http://www.w3.org/TR/css-shapes-1/#shape-image-threshold-property"/>
    <link rel="match" href="reference/shape-outside-012-ref.html"/>
    <meta name="flags" content="ahem"/>
    <meta name="assert" content="This test verifies content flows around a shape that is 
                                 defined in the image's alpha channel and adjusted by the 
                                 image-threshold" />
    <!--  This test is derived from Example 7 in this version of the spec:
         http://www.w3.org/TR/2014/WD-css-shapes-1-20140211/  -->
    <style type="text/css">
        .container {
          position: absolute;
          top: 70px;
          width: 400px;
          height: 105px;
          font-family: Ahem;
          font-size: 20px;
          line-height: 2em;
        }
        #test {
            color: green;
        }
        #test-image {
            float: left;
            -webkit-shape-outside: url("support/circle-shadow.png");
            -webkit-shape-image-threshold: 0.9;
        }
        #failure {
            width: 300px;
            color: red;
            z-index: -1;
        }
        #line-1, #line-5 { margin-left: 181px; }
        #line-2, #line-4 { margin-left: 199px; }
        #line-3 { margin-left: 201px; }
    </style>
</head>
<body>
    <p>
        The test passes if the short green horizontal bars are the right of the circle, all 
        intersect the shadow, none intersect the circle and the long green bar is beneath the 
        circle. There should be no red.
    </p>
    <div id="test" class="container">
        <img id="test-image" src="support/circle-shadow.png"/>
        XXXXXX XXXXXX XXXXXX XXXXXX XXXXXX XXXXXXXXXXXXXXX
    </div>
    <div id="failure" class="container">
        <span id="line-1">XXXXXX</span>
        <span id="line-2">XXXXXX</span>
        <span id="line-3">XXXXXX</span>
        <span id="line-4">XXXXXX</span>
        <span id="line-5">XXXXXX</span>
        XXXXXXXXXXXXXXX
    </div>
</body>
</html>