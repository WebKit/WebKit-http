<!doctype html>
<html>
<head>
    <title>Tests that an author's shader code cannot sample a shaded element's texture.</title>
    <!-- If the test passes, you should see 6 vertically-stacked green boxes. -->
    <script>
        if (window.testRunner) {
            window.testRunner.overridePreference("WebKitCSSCustomFilterEnabled", "1");
            window.testRunner.overridePreference("WebKitWebGLEnabled", "1");
        }
    </script>
    <style>
    div {
        /* The shaders will turn the element's color from green to red if they are able to sample its texture. */
        background-color: rgb(0, 255, 0);
        width: 50px;
        height: 50px;
        margin: 10px;
    }
    .sample-u-texture {
        -webkit-filter: custom(url('../resources/pass-tex-coord.vs') url('../resources/sample-u-texture.fs'));
    }
    .sample-u-texture-mix {
        -webkit-filter: custom(url('../resources/pass-tex-coord.vs') mix(url('../resources/sample-u-texture-mix.fs') normal source-atop));
    }
    .sample-undefined-css-u-texture {
        -webkit-filter: custom(url('../resources/pass-tex-coord.vs') url('../resources/sample-undefined-css-u-texture.fs'));  
    }
    .sample-undefined-css-u-texture-mix {
        -webkit-filter: custom(url('../resources/pass-tex-coord.vs') mix(url('../resources/sample-undefined-css-u-texture-mix.fs') normal source-atop));
    }
    .sample-defined-css-u-texture {
        -webkit-filter: custom(url('../resources/pass-tex-coord.vs') url('../resources/sample-defined-css-u-texture.fs'));  
    }
    .sample-defined-css-u-texture-mix {
        -webkit-filter: custom(url('../resources/pass-tex-coord.vs') mix(url('../resources/sample-defined-css-u-texture-mix.fs') normal source-atop));
    }
    </style>
</head>
<body>
    <div class="sample-u-texture"></div>
    <div class="sample-u-texture-mix"></div>
    <div class="sample-undefined-css-u-texture"></div>
    <div class="sample-undefined-css-u-texture-mix"></div>
    <div class="sample-defined-css-u-texture"></div>
    <div class="sample-defined-css-u-texture-mix"></div>
</body>
</html>
