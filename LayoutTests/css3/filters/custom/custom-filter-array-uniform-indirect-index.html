<!doctype html>
<html>
<head>
    <title>Tests that vertex shaders can indirectly index uniform arrays.</title>
    <!-- If the test passes, you should see a green square. -->
    <script>
        if (window.testRunner) {
            window.testRunner.overridePreference("WebKitCSSCustomFilterEnabled", "1");
            window.testRunner.overridePreference("WebKitWebGLEnabled", "1");
            window.testRunner.waitUntilDone();
        }

       function runTest()
        {
            // Run the tests after the shaders download.
            if (window.testRunner)
                window.testRunner.notifyDone();
        }
    </script>
    <style>
        div {
            background-color: #f00;
            width: 100px;
            height: 100px;
        }
        .array-indirect-index {
            /* This custom filter will turn the element's color from red to green if it executes. */
            -webkit-filter: custom(url('../resources/array-uniform-indirect-index.vs') 
                mix(url('../resources/varying-mix-color.fs') normal source-atop), 
                values array(0.0, 1.0), redIndex 0, greenIndex 1, blueIndex 0, alphaIndex 1);
        }
    </style>
</head>
<body onload="runTest()">
    <div class="array-indirect-index"></div>
</body>
</html>
