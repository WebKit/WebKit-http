<!doctype html>
<html>
    <head>
        <title>Tests the array() function in custom filters</title>
        <script>
            if (window.testRunner) {
                window.testRunner.overridePreference("WebKitCSSCustomFilterEnabled", "1");
                window.testRunner.overridePreference("WebKitWebGLEnabled", "1");
                window.testRunner.waitUntilDone();
            }

            function runTest()
            {
                // We need to run the tests after the downloading succeeded.
                if (window.testRunner)
                    window.testRunner.notifyDone();
            }
        </script>
        <style>
            #filtertestbox {
                height: 100px;
                width: 100px;
                background-color: red;
                -webkit-filter: custom(none url('../resources/fragment-color.fs'), colorArray array(0.0, 1.0, 0.0, 1.0));
            }
        </style>
    </head>
    <body onload="runTest()">
        <!--
            A 100x100px red div is coloured green by fragment-color.fs, a fragment shader.
            Fails if the div stays red.
        -->
        <div id="filtertestbox"></div>
    </body>
</html>
