<!doctype html>
<html>
<head>
    <title>Tests that custom filters do not execute if the author defines built-in attributes with the wrong type.</title>
    <!-- If the test passes, you should see 5 vertically-stacked green boxes. -->
    <script>
        if (window.testRunner) {
            window.testRunner.overridePreference("WebKitCSSCustomFilterEnabled", "1");
            window.testRunner.overridePreference("WebKitWebGLEnabled", "1");
            window.testRunner.waitUntilDone();
        }
        
        function runTest()
        {
            // We need to run the tests after the shaders download.
            if (window.testRunner)
                window.testRunner.notifyDone();
        }
    </script>
    <style>
    div {
        /* If the shaders execute, they will turn the element's color from green to red. */
        background-color: rgb(0, 255, 0);
        width: 50px;
        height: 50px;
        margin: 10px;
    }
    .invalid-type-a-mesh-coord {
        -webkit-filter: custom(url('../resources/invalid-type-a-mesh-coord.vs') mix(url('../resources/mix-color.fs') normal source-atop), mix_color 1.0 0.0 0.0 1.0);
    }
    .invalid-type-a-position {
        -webkit-filter: custom(url('../resources/invalid-type-a-position.vs') mix(url('../resources/mix-color.fs') normal source-atop), mix_color 1.0 0.0 0.0 1.0);
    }
    .invalid-type-a-tex-coord {
        -webkit-filter: custom(url('../resources/invalid-type-a-tex-coord.vs') mix(url('../resources/mix-color.fs') normal source-atop), mix_color 1.0 0.0 0.0 1.0);
    }
    .invalid-type-a-triangle-coord {
        -webkit-filter: custom(url('../resources/invalid-type-a-triangle-coord.vs') mix(url('../resources/mix-color.fs') normal source-atop), mix_color 1.0 0.0 0.0 1.0);
    }
    .invalid-type-attribute-array {
        -webkit-filter: custom(url('../resources/invalid-type-attribute-array.vs') mix(url('../resources/mix-color.fs') normal source-atop), mix_color 1.0 0.0 0.0 1.0);        
    }
    </style>
</head>
<body onload="runTest()">
    <div class="invalid-type-a-mesh-coord"></div>
    <div class="invalid-type-a-position"></div>
    <div class="invalid-type-a-tex-coord"></div>
    <div class="invalid-type-a-triangle-coord"></div>
    <div class="invalid-type-attribute-array"></div>
</body>
</html>
