<!doctype html>
<html>
    <head>
        <title>Testing that the custom filter is applied correctly.</title>
        <script>
            if (window.layoutTestController) {
                window.layoutTestController.overridePreference("WebKitCSSCustomFilterEnabled", "1");
                window.layoutTestController.overridePreference("WebKitWebGLEnabled", "1");
                window.layoutTestController.dumpAsText(true);
                window.layoutTestController.waitUntilDone();
            }
            
            function runTest()
            {
                // We need to run the tests after the downloading succeeded.
                if (window.layoutTestController)
                    window.layoutTestController.notifyDone();
            }
        </script>
    </head>
    <body onload="runTest()">
        <img style="-webkit-filter: custom(none url('../resources/color-fill.fs'), color 1 0 0 1)" src="../../../compositing/resources/thiswayup.png">
        <img style="-webkit-filter: custom(none url('../resources/color-fill.fs'), color 0 1 0 1)" src="../../../compositing/resources/thiswayup.png">
        <img style="-webkit-filter: custom(none url('../resources/color-fill.fs'), color 0 0 1 1)" src="../../../compositing/resources/thiswayup.png">
        <!--
            Testing that the color channels are specified correctly. You should see 3 boxes filled with red, green and blue. The arrow should
            point upside and the text should be written from left to right (no mirror). Also the gradient starts from up - transparent to down - full color.
            Note: WebGL needs to be enabled for this test to succeed.
        -->
    </body>
</html>