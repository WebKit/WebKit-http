<!doctype html>
<html>
    <head>
        <title>Testing that the custom filter is applied correctly.</title>
        <script>
            if (window.testRunner) {
                window.testRunner.overridePreference("WebKitCSSCustomFilterEnabled", "1");
                window.testRunner.overridePreference("WebKitWebGLEnabled", "1");
                window.testRunner.dumpAsText(true);
                window.testRunner.waitUntilDone();
            }
            
            function runTest()
            {
                // We need to run the tests after the downloading succeeded.
                if (window.testRunner)
                    window.testRunner.notifyDone();
            }
        </script>
    </head>
    <body onload="runTest()">
        <img style="-webkit-filter: custom(url('../resources/pass-tex-coord.vs') mix(url('../resources/color-fill.fs') normal source-atop), color 1 0 0 1)" src="../../../compositing/resources/thiswayup.png">
        <img style="-webkit-filter: custom(url('../resources/pass-tex-coord.vs') mix(url('../resources/color-fill.fs') normal source-atop), color 0 1 0 1)" src="../../../compositing/resources/thiswayup.png">
        <img style="-webkit-filter: custom(url('../resources/pass-tex-coord.vs') mix(url('../resources/color-fill.fs') normal source-atop), color 0 0 1 1)" src="../../../compositing/resources/thiswayup.png">
        <!--
            Testing that the color channels are specified correctly. You should see 3 boxes filled with red, green and blue. The arrow should
            point upward and the text should be written from left to right (no mirror). Also the gradient starts from up - no color to down - full color.
            Note: WebGL needs to be enabled for this test to succeed.
        -->
    </body>
</html>
