<!doctype html>
<html>
<head>
    <title>Tests that custom filters do not execute if the author defines built-in uniforms with the wrong type.</title>
    <!-- If the test passes, you should see 6 vertically-stacked green boxes. -->
    <script>
        if (window.testRunner) {
            window.testRunner.overridePreference("WebKitCSSCustomFilterEnabled", "1");
            window.testRunner.overridePreference("WebKitWebGLEnabled", "1");
            window.testRunner.waitUntilDone();
        }
        
        function runTest()
        {
            // We need to run the tests after the shaders download.
            if (window.testRunner)
                window.testRunner.notifyDone();
        }
    </script>
    <style>
    div {
        /* If the shaders execute, they will turn the element's color from green to red. */
        background-color: rgb(0, 255, 0);
        width: 50px;
        height: 50px;
        margin: 10px;
    }
    .invalid-type-u-mesh-box {
        -webkit-filter: custom(none mix(url('../resources/invalid-type-u-mesh-box.fs') normal source-atop));
    }
    .invalid-type-u-mesh-size {
        -webkit-filter: custom(none mix(url('../resources/invalid-type-u-mesh-size.fs') normal source-atop));
    }
    .invalid-type-u-projection-matrix {
        -webkit-filter: custom(none mix(url('../resources/invalid-type-u-projection-matrix.fs') normal source-atop));
    }
    .invalid-type-u-texture-size {
        -webkit-filter: custom(none mix(url('../resources/invalid-type-u-texture-size.fs') normal source-atop));
    }
    .invalid-type-u-tile-size {
        -webkit-filter: custom(none mix(url('../resources/invalid-type-u-tile-size.fs') normal source-atop));
    }
    .invalid-type-uniform-array {
        -webkit-filter: custom(none mix(url('../resources/invalid-type-uniform-array.fs') normal source-atop));
    }
    </style>
</head>
<body onload="runTest()">
    <div class="invalid-type-u-mesh-box"></div>
    <div class="invalid-type-u-mesh-size"></div>
    <div class="invalid-type-u-projection-matrix"></div>
    <div class="invalid-type-u-texture-size"></div>
    <div class="invalid-type-u-tile-size"></div>
    <div class="invalid-type-uniform-array"></div>
</body>
</html>
