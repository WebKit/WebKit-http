<!doctype html>
<html>
    <head>
        <title>Test u_meshBox</title>
        <script>
            if (window.testRunner) {
                window.testRunner.overridePreference("WebKitCSSCustomFilterEnabled", "1");
                window.testRunner.overridePreference("WebKitWebGLEnabled", "1");
                window.testRunner.waitUntilDone();
            }

            function runTest()
            {
                // We need to run the tests after the downloading succeeded.
                if (window.testRunner)
                    window.testRunner.notifyDone();
            }
        </script>
        <style>
            #filtertestbox {
                height: 100px;
                width: 100px;
                background-color: red;
                -webkit-filter: custom(none url('../resources/u-mesh-box-is-unit-square.fs'));
            }
        </style>
    </head>
    <body onload="runTest()">
        <!--
            A 100x100px red div is coloured green if u_meshBox is correctly set and
            passed to the shader.
            As of now u_meshBox always returns (-0.5, -0.5, 1, 1); this shall change
            when filter margins will be implemented, see:
            https://bugs.webkit.org/show_bug.cgi?id=71400
            Fails if the div stays red.
        -->
        <div id="filtertestbox"></div>
    </body>
</html>
