<!DOCTYPE html>
<script>
if (window.layoutTestController) {
    layoutTestController.waitUntilDone();
    layoutTestController.dumpAsText();
}

function test() {
    var v = document.createElement("video");
    document.body.appendChild(v);
    var src = document.createElement("source");
    src.src = "notarealsource";
    v.appendChild(src);
    src.addEventListener("error", function() {
       if (window.layoutTestController) {
            layoutTestController.display();
            // If we didn't crash here, yay!  Test is a success
            document.body.appendChild(document.createTextNode("PASS"));
            layoutTestController.notifyDone();
        }
    }, false);
}
</script>
<body onload="test()">
</body>
