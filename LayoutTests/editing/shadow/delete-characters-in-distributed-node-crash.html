<!DOCTYPE html>
<html>
<body>
<p id="description">This tests the deletion of text in distributed node does not crash. To run it outside of DRT, you must delete text, 'foo', manually.</p>
<div id="shadowhost" contenteditable><div>foo</div></div>
<script>
if (window.layoutTestController)
    layoutTestController.dumpAsText();
var shadowRoot = new WebKitShadowRoot(document.getElementById('shadowhost'));
shadowRoot.innerHTML = "<content></content>";

var textNode = document.getElementById('shadowhost').firstChild.firstChild;
window.getSelection().setBaseAndExtent(textNode, 0, textNode, 3);
document.execCommand('Delete');

document.write('PASS');
</script>
</body>
</html>
